[ lightField, channels ] = loadLightFieldFromFolder( path, 'png', [3, 3] );

lightFieldResolution = size(lightField);
lightFieldResolution = lightFieldResolution(1 : 4);
 
cameraPlaneDistance = 8;
distanceBetweenCameras = [.2, .2]; 
NumberOfLayers = 3;
distanceBetweenLayers = 1.5;

% layerResolution = [100, 100 * aspectRatio];
% layerResolution = round(layerResolution);
layerResolution = lightFieldResolution([3, 4]);

layerWidth = 4 * aspectRatio;
layerHeight = 4;

boxFilterRadius = 1;

% Maximum number of iterations in optimization process
maxIterations = 20;
% Output folder to store the layers
outFolder = 'output/';

% layerHeight = layerWidth * (lightFieldResolution(3) / lightFieldResolution(4));
layerSize = [layerWidth, layerHeight];
totalLayerThickness = (NumberOfLayers - 1) * distanceBetweenLayers;

% Indices of views for reconstruction and error evaluation
center = [2, 2];
custom = [3, 3];

mu = [0, 0];
sigma = [0.3 , 0;
         0, 0.3 ];
      
weightFunctionHandle = @(data) mvnpdf(data, mu, sigma);